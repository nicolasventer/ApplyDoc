import{c as o,g as JJ,i as KJ,m as QJ,n as XJ,p as ZJ,q as $J,u as PJ,v as C,w as UJ}from"../../index.chunk-7xevcy7k.js";import{Da as w,Ea as YJ,Fa as qJ,H as c,O as b,S as U,Y as B,_ as H,aa as i,ca as l,fa as r,ha as v,ia as h,ka as s,oa as t,qa as n,ra as e,sa as m,ta as d,ua as u,wa as x,za as W}from"../../index.chunk-101yd6ng.js";import{Ga as yJ,Ha as LJ}from"../../index.chunk-e6ntnmb0.js";var g=LJ((I,M)=>{(function(K,P){if(typeof I==="object"){var G=P();if(typeof M==="object"&&M&&M.exports)I=M.exports=G;I.randomColor=G}else if(typeof define==="function"&&define.amd)define([],P);else K.randomColor=P()})(I,function(){var K=null,P={};kJ();var G=[],Y=function(J){if(J=J||{},J.seed!==void 0&&J.seed!==null&&J.seed===parseInt(J.seed,10))K=J.seed;else if(typeof J.seed==="string")K=zJ(J.seed);else if(J.seed!==void 0&&J.seed!==null)throw new TypeError("The seed value must be an integer or string");else K=null;var X,Q,Z;if(J.count!==null&&J.count!==void 0){var $=J.count,q=[];for(var A=0;A<J.count;A++)G.push(!1);J.count=null;while($>q.length){var z=Y(J);if(K!==null)J.seed=K;q.push(z)}return J.count=$,q}return X=k(J),Q=T(X,J),Z=S(X,Q,J),j([X,Q,Z],J)};function k(J){if(G.length>0){var X=NJ(J.hue),Q=y(X),Z=(X[1]-X[0])/G.length,$=parseInt((Q-X[0])/Z);if(G[$]===!0)$=($+2)%G.length;else G[$]=!0;var q=(X[0]+$*Z)%359,A=(X[0]+($+1)*Z)%359;if(X=[q,A],Q=y(X),Q<0)Q=360+Q;return Q}else{var X=WJ(J.hue);if(Q=y(X),Q<0)Q=360+Q;return Q}}function T(J,X){if(X.hue==="monochrome")return 0;if(X.luminosity==="random")return y([0,100]);var Q=OJ(J),Z=Q[0],$=Q[1];switch(X.luminosity){case"bright":Z=55;break;case"dark":Z=$-10;break;case"light":$=55;break}return y([Z,$])}function S(J,X,Q){var Z=GJ(J,X),$=100;switch(Q.luminosity){case"dark":$=Z+20;break;case"light":Z=($+Z)/2;break;case"random":Z=0,$=100;break}return y([Z,$])}function j(J,X){switch(X.format){case"hsvArray":return J;case"hslArray":return D(J);case"hsl":var Q=D(J);return"hsl("+Q[0]+", "+Q[1]+"%, "+Q[2]+"%)";case"hsla":var Z=D(J),A=X.alpha||Math.random();return"hsla("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%, "+A+")";case"rgbArray":return V(J);case"rgb":var $=V(J);return"rgb("+$.join(", ")+")";case"rgba":var q=V(J),A=X.alpha||Math.random();return"rgba("+q.join(", ")+", "+A+")";default:return _J(J)}}function GJ(J,X){var Q=E(J).lowerBounds;for(var Z=0;Z<Q.length-1;Z++){var $=Q[Z][0],q=Q[Z][1],A=Q[Z+1][0],z=Q[Z+1][1];if(X>=$&&X<=A){var f=(z-q)/(A-$),O=q-f*$;return f*X+O}}return 0}function WJ(J){if(typeof parseInt(J)==="number"){var X=parseInt(J);if(X<360&&X>0)return[X,X]}if(typeof J==="string"){if(P[J]){var Q=P[J];if(Q.hueRange)return Q.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Z=p(J)[0];return[Z,Z]}}return[0,360]}function OJ(J){return E(J).saturationRange}function E(J){if(J>=334&&J<=360)J-=360;for(var X in P){var Q=P[X];if(Q.hueRange&&J>=Q.hueRange[0]&&J<=Q.hueRange[1])return P[X]}return"Color not found"}function y(J){if(K===null){var X=0.618033988749895,Q=Math.random();return Q+=X,Q%=1,Math.floor(J[0]+Q*(J[1]+1-J[0]))}else{var Z=J[1]||1,$=J[0]||0;K=(K*9301+49297)%233280;var q=K/233280;return Math.floor($+q*(Z-$))}}function _J(J){var X=V(J);function Q($){var q=$.toString(16);return q.length==1?"0"+q:q}var Z="#"+Q(X[0])+Q(X[1])+Q(X[2]);return Z}function _(J,X,Q){var Z=Q[0][0],$=Q[Q.length-1][0],q=Q[Q.length-1][1],A=Q[0][1];P[J]={hueRange:X,lowerBounds:Q,saturationRange:[Z,$],brightnessRange:[q,A]}}function kJ(){_("monochrome",null,[[0,0],[100,0]]),_("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),_("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),_("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),_("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),_("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),_("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),_("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function V(J){var X=J[0];if(X===0)X=1;if(X===360)X=359;X=X/360;var Q=J[1]/100,Z=J[2]/100,$=Math.floor(X*6),q=X*6-$,A=Z*(1-Q),z=Z*(1-q*Q),f=Z*(1-(1-q)*Q),O=256,N=256,F=256;switch($){case 0:O=Z,N=f,F=A;break;case 1:O=z,N=Z,F=A;break;case 2:O=A,N=Z,F=f;break;case 3:O=A,N=z,F=Z;break;case 4:O=f,N=A,F=Z;break;case 5:O=Z,N=A,F=z;break}var FJ=[Math.floor(O*255),Math.floor(N*255),Math.floor(F*255)];return FJ}function p(J){J=J.replace(/^#/,""),J=J.length===3?J.replace(/(.)/g,"$1$1"):J;var X=parseInt(J.substr(0,2),16)/255,Q=parseInt(J.substr(2,2),16)/255,Z=parseInt(J.substr(4,2),16)/255,$=Math.max(X,Q,Z),q=$-Math.min(X,Q,Z),A=$?q/$:0;switch($){case X:return[60*((Q-Z)/q%6)||0,A,$];case Q:return[60*((Z-X)/q+2)||0,A,$];case Z:return[60*((X-Q)/q+4)||0,A,$]}}function D(J){var X=J[0],Q=J[1]/100,Z=J[2]/100,$=(2-Q)*Z;return[X,Math.round(Q*Z/($<1?$:2-$)*1e4)/100,$/2*100]}function zJ(J){var X=0;for(var Q=0;Q!==J.length;Q++){if(X>=Number.MAX_SAFE_INTEGER)break;X+=J.charCodeAt(Q)}return X}function NJ(J){if(!isNaN(J)){var X=parseInt(J);if(X<360&&X>0)return E(J).hueRange}else if(typeof J==="string"){if(P[J]){var Q=P[J];if(Q.hueRange)return Q.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Z=p(J)[0];return E(Z).hueRange}}return[0,360]}return Y})});var AJ=yJ(g(),1);var a=c(function K(P,G){let Y=d(""),k=u(()=>Array.from(new Set([...P.data,Y.value])));return U(h,{ref:G,searchable:!0,...P,data:k.value,searchValue:Y.value,onSearchChange:(T)=>Y.value=T},void 0,!1,void 0,this)});var L=e(()=>Array.from(new Set([...x,...W.documentList.value.flatMap((K)=>K.value.tagList)])));m(()=>{let K=W.filterList.value,P=L.value.filter((Y)=>!K.some((k)=>k.value.value===Y));if(P.length>0)W.filterList.value=[...K,...P.map((Y)=>n({value:Y,enabled:!1}))];if(K.filter((Y)=>!L.value.includes(Y.value.value)).length>0)W.filterList.value=K.filter((Y)=>L.value.includes(Y.value.value))});m(()=>{let K=W.tagColorObj.value,P=L.value.filter((Y)=>!Object.keys(K).includes(Y));if(P.length>0)W.tagColorObj.value={...K,...Object.fromEntries(P.map((Y)=>[Y,AJ.default()]))};if(Object.keys(K).filter((Y)=>!L.value.includes(Y)).length>0)W.tagColorObj.value=Object.fromEntries(Object.entries(K).filter(([Y])=>L.value.includes(Y)))});var fJ=(K)=>(P)=>P&&(K.value={...K.value,type:P}),wJ=(K)=>()=>document.startViewTransition(()=>b(()=>W.documentList.value=W.documentList.value.filter((P,G)=>G!==K))),TJ=(K)=>()=>K.value={...K.value,editing:!K.value.editing},IJ=(K)=>()=>document.startViewTransition(()=>b(()=>W.fullScreenViewTransitionName.value=W.fullScreenViewTransitionName.value===K.value.viewTransitionName?"":K.value.viewTransitionName)),MJ=(K)=>(P)=>K.value={...K.value,tagList:P},BJ=(K)=>(P)=>K.value={...K.value,content:P.currentTarget.value},RJ=(K)=>()=>{if(!C.value)return;if(K.value.tagList.includes(C.value))return;K.value={...K.value,tagList:[...K.value.tagList,C.value]}},R=(K)=>K.value.viewTransitionName===W.fullScreenViewTransitionName.value,EJ=({d:K,i:P})=>U(YJ,{gap:3,children:[U(w,{justifyContent:"space-between",children:[K.value.editing?U(s,{label:"Type",data:x,value:K.value.type,readOnly:!K.value.editing,onChange:fJ(K)},void 0,!1,void 0,this):U(w,{gap:6,children:[U(H.Label,{style:{paddingBottom:5},children:"Type"},void 0,!1,void 0,this),U(v,{c:W.tagColorObj.value[K.value.type],children:K.value.type},void 0,!1,void 0,this)]},void 0,!0,void 0,this),U(w,{gap:6,children:[U(B,{variant:"transparent",size:"sm",c:"red",onClick:wJ(P),children:U(PJ,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),U("div",{},void 0,!1,void 0,this),U(B,{variant:"transparent",size:"sm",onClick:IJ(K),children:R(K)?U(XJ,{},void 0,!1,void 0,this):U(QJ,{},void 0,!1,void 0,this)},void 0,!1,void 0,this),U(B,{variant:"transparent",size:"sm",onClick:TJ(K),children:K.value.editing?U(ZJ,{},void 0,!1,void 0,this):U($J,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),K.value.editing?U(a,{label:"Tags",data:L.value,value:K.value.tagList,onChange:MJ(K)},void 0,!1,void 0,this):U(w,{gap:6,overflowAuto:!0,children:[U(H.Label,{style:{paddingBottom:5,textWrapMode:"nowrap"},children:"Tags"},void 0,!1,void 0,this),K.value.tagList.map((G)=>U(v,{c:W.tagColorObj.value[G],children:G},G,!1,void 0,this))]},void 0,!0,void 0,this),U(qJ,{children:[U(r,{label:`Content${K.value.editing?"":" (read only)"}`,value:K.value.content,onChange:BJ(K),readOnly:!K.value.editing,autosize:!0},void 0,!1,void 0,this),U(w,{justifyContent:"flex-end",children:U(l,{value:K.value.content,children:({copied:G,copy:Y})=>U(B,{color:G?"teal":"blue",onClick:()=>(Y(),t.success("copied")),style:{right:5,top:43},children:U(KJ,{},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),oJ=({d:K,i:P})=>{let{attributes:G,listeners:Y,setNodeRef:k,transform:T,transition:S}=JJ({id:K.value.viewTransitionName});return U(i,{ref:k,...G,...Y,style:{transition:S,transform:o.Transform.toString(T),width:R(K)?"100%":UJ.value,height:R(K)?"100%":W.layout.rowHeight.value,overflow:"auto",viewTransitionName:K.value.viewTransitionName,position:R(K)?"absolute":void 0,zIndex:R(K)?500:void 0,top:0},padding:"xs",onDragOver:(j)=>j.preventDefault(),onDrop:RJ(K),children:U(EJ,{d:K,i:P},void 0,!1,void 0,this)},void 0,!1,void 0,this)};export{oJ as DocumentCard};
